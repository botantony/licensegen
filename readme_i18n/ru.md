![GitHub License](https://img.shields.io/github/license/botantony/licensegen)
![LuaRocks](https://img.shields.io/luarocks/v/botantony/licensegen)
![GitHub Tag](https://img.shields.io/github/v/tag/botantony/licensegen)

[English (Default)](README.md) • [Русский](readme_i18n/ru.md)

Небольшая утилита на Lua для генерации файлов лицензии в текущей директории.

[![Демонстрация Licensegen](https://asciinema.org/a/05VjCIvSHRufPjatfqNhREZfT.svg)](https://asciinema.org/a/05VjCIvSHRufPjatfqNhREZfT)

## Установка
### LuaRocks
Используйте следующую команду:
```console
sudo luarocks install licensegen
```

### Вручную
1. Склонируйте проект
2. (опционально) Добавьте директорию с проектом в вашу переменную `$PATH`
3. Используйте `licensegen` или `lua licensegen.lua`

## Использование
```console
licensegen <название лицензии> --<аргумент1>=<значение1> --<аргумент2>=<значение2> ...
```

Некоторые из опций не создают файла с лицензией, но они выводят полезную информацию:
- `-h` или `--help` - Показывает страницу с документацией
- `-a` или `--aliases` - Показывает псевдонимы лицензий
- `--list` или `--licenses` - Выводит список всех лицензий
- `--cfg` или `--config` - Показывает директорию с конфигурационными файлами

Аргументы замены текста вводятся в таком формате: `--<аргументе>=<текст>`, например `--owner=имя` или `--owner="Ваше полное имя"`. Все аргументы (с некоторыми исключениями) могут быть изменены через конфигурационный файл или при помощи параметров в консоли.

Существуют некоторые аргументы, которые могут задаваться автоматически:
- aliases - Задаёт псевдонимы для лицензий (таблица, проверьте `--aliases` для вывода списка псевдонимов)
- filename - Название файла лицензии (по-умолчанию `LICENSE`)
- licensename - Тип лицензии, которую вы хотите использовать (работает только в конфигурационном файле)
- owner - Владелец проекта (по-умолчанию имя пользователя этого компьютера)
- project - Название проекта (по-умолчанию название текущей директории)
- workdir - Полный путь до проекта, в котором будет создаваться файл
- year - Текущий год

## Конфигурация
Если пользователь создают директорию `~/.config/licensegen/` (на Unix) или папку `%LOCALAPPDATA\licensegen\` (на Windows), `config.lua` из этого пути можно использовать чтобв изменять значения по-умолчанию. Например:
```lua
return {
    owner = "Моё имя",
    aliases = {
        bsd = "bsd-4-clause",
    },
}
```
Этот конфиг задаёт `Моё имя` как переменную `$owner$` по-умолчанию и `bsd` теперь является псевдонимом `bsd-4-clause`.

## Пользовательские лицензии
Хотя создание своей собственной лицензии обычно не является [хорошей идеей](https://ben.balter.com/2016/08/01/why-you-shouldnt-write-your-own-open-source-license/), в этом проекте присутствуют не все лицензии, которые могут кому-то пригодиться. В этом случае вы можете создать директорию `licenses` в конфигруационной директории и скопировать туда текст шаблона лицензии с расширением `.txt`. Имейте в виду что "пользовательские" лицензии имеют более высокий приоритет чем "стандартные".

## Источник лицензий
Все лицензии были взяты из репозитория [choosealicense.com](https://github.com/github/choosealicense.com).
